ibArama.setOnClickListener {
            val aramaIntent=Intent(Intent.ACTION_DIAL)
            aramaIntent.data= Uri.parse("tel:"+esasTel)
            startActivity(aramaIntent)
        }
        ibSms.setOnClickListener {
            val smsIntent=Intent(Intent.ACTION_SENDTO)
            smsIntent.data=Uri.parse("smsto:"+esasTel)
            smsIntent.putExtra("sms_body","Mesaj içeriği")
            startActivity(smsIntent)
        }
        ibMail.setOnClickListener {
            val subject="SUBJECT"
            val mesaj="MESAJ"
            val mailIntent=Intent(Intent.ACTION_SEND)
            mailIntent.data=Uri.parse("mailto:")
            mailIntent.type="text/plain"
            mailIntent.putExtra(Intent.EXTRA_EMAIL, arrayOf(esasMail))
            mailIntent.putExtra(Intent.EXTRA_SUBJECT,subject)
            mailIntent.putExtra(Intent.EXTRA_TEXT,mesaj)
            startActivity(Intent.createChooser(mailIntent,"Birini seçiniz"))
        }
        listele()
        btnKaydet.setOnClickListener {
            val gelenAd=etAd.text.toString()
            val gelenSoyad=etSoyad.text.toString()
            val gelenMail=etMail.text.toString()
            val gelenTel=etTel.text.toString()
            val vt=VeriTabani(this@MainActivity)
            vt.veriEkle(gelenAd,gelenSoyad,gelenTel,gelenMail)
            Toast.makeText(this,"Kayıt yapıldı", Toast.LENGTH_LONG).show()
            temizle()
            listele()
        }
        btnDuzelt.setOnClickListener {
            val gelenAd=etAd.text.toString()
            val gelenSoyad=etSoyad.text.toString()
            val gelenMail=etMail.text.toString()
            val gelenTel=etTel.text.toString()
            val vt=VeriTabani(this@MainActivity)
            vt.veriDuzenle(esasId,gelenAd,gelenSoyad,gelenTel,gelenMail)
            Toast.makeText(this,"Kayıt Düzeltildi", Toast.LENGTH_LONG).show()
            temizle()
            listele()
        }
        btnSil.setOnClickListener {
            val vt=VeriTabani(this@MainActivity)
            vt.veriSil(esasId)
            Toast.makeText(this,"Kayıt Silindi", Toast.LENGTH_LONG).show()
            temizle()
            listele()
        }
    }

    private fun listele() {
        val vt=VeriTabani(this@MainActivity)
        val veriler=vt.Listele()
        val adapter=ArrayAdapter(this,android.R.layout.simple_list_item_1,veriler)
        lvKisiler.adapter=adapter
        lvKisiler.setOnItemClickListener { adapterView, view, i, l ->
            val item=lvKisiler.getItemAtPosition(i).toString()
            val itemBol=item.split("-")
            esasId=Integer.parseInt(itemBol[0])
            etAd.setText(itemBol[1])
            etSoyad.setText(itemBol[2])
            esasTel=itemBol[3]
            etTel.setText(esasTel)
            esasMail=itemBol[4]
            etMail.setText(esasMail)
        }
    }

    private fun temizle() {
        etAd.text=null
        etSoyad.text=null
        etTel.text=null
        etMail.text=null
    }
